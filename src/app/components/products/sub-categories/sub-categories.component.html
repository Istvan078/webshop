<div class="container">
  <nav class="sideNav">
    <ng-container
      *ngIf="categories.length > 0 && subcategories.firstCategory.key"
    >
      <div
        class="categories"
        *ngFor="let category of categories; let i = index"
      >
        <div style="text-align: center">
          <a
            [queryParams]="{
              key: 'all-products',
              queryPar: 'all-products'
            }"
            routerLink="/products"
            style="
              display: inline-block;
              width: fit-content;
              background: linear-gradient(
                to right,
                rgb(182, 85, 85),
                rgb(102, 97, 97)
              );
              color: white;
              margin-bottom: 10px;
              margin-left: 20px;
            "
            *ngIf="i === 0"
            >Összes Termék</a
          >
        </div>
        <div
          style="display: inline-block"
          class="icons"
          *ngFor="let icon of icons"
        >
          <i *ngIf="category.key === icon.key" class="bi {{ icon.value }}"></i>
        </div>
        <a class="category-anchor" (click)="toggle(category.key, i)">{{
          category.value
        }}</a>
        <div
          *ngIf="
            category?.key === subcategories[category.key]?.key ||
            catKey === subcategories[category.key]?.key
          "
          class="subCategories"
          [ngClass]="
            catKey !== subcategories[category.key]?.key ? 'd-none' : ''
          "
        >
          <a
            class="subcatanchor"
            [queryParams]="{
              key: category.key,
              queryPar: subcategories[category.key].queryPar[i]
            }"
            routerLink="/products"
            *ngFor="
              let subCat of subcategories[category.key].value;
              let i = index
            "
            >{{ subCat }}</a
          >
        </div>
      </div>
    </ng-container>
  </nav>
</div>
